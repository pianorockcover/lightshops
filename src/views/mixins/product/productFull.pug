include productOption.pug

mixin productFull(customOptions = {})
    -
        let options = {};
        options.id = utils.randomInt(100, 999);
        options.name = utils.faker.commerce.productName();
        options.category = utils.faker.commerce.department();
        options.rate = utils.randomInt(0, 5);
        options.price = `$${utils.randomInt(9, 20)}.00`;

        //- const imageId = utils.randomInt(1, 11);
        //- TMP
        const imageId = 2;
        options.image = utils.getUpload(`products/${imageId}.jpg`);

        options.labels = new Array(utils.randomInt(0, 3)).fill(null).map(() => ({
            class: utils.randomElem(["bg-warning", "bg-success", "bg-contrast", "bg-primary"]),
            text: utils.faker.commerce.productAdjective(),
        }));
        options.reviewsAmount = utils.randomInt(100, 999);
        options = Object.assign(options, customOptions);

    .product.product-full
        .row
            .col-xl-6.col-xxl-4.pb-2
                .product-full-gallery
                    .product-full-thumbnails
                        .product-full-thumbnail.active
                            img.product-full-thumbnail-image(src=options.image, alt="Product thumbnail")
                        - for (let i = 1; i < 3; ++i) {
                            .product-full-thumbnail
                                img.product-full-thumbnail-image(src=utils.getUpload(`products/${imageId}-v-${i}.jpg`), alt="Product thumbnail")
                        - }
                    .product-full-zoom-view
                        img.product-full-zoom-view-image(src=options.image, alt="Product full view")
                        .product-labels
                            - for (let label of (options.labels || [])) {
                                .product-label(class= label.class)= label.text
                            - }
                        .product-favourite-icon
            .col-xl-6.col-xxl-4.pb-2
                a.product-category(href="category.html" title= options.category)= options.category
                .product-title= options.name
                .product-rate-wrapper
                    .product-rate
                        - for (let i = 0; i < 5; ++i) {
                            - if (i < options.rate) {
                                .bi.bi-star-fill.product-rate-star
                            - } else {
                                .bi.bi-star.product-rate-star
                            - }
                        - }
                    .product-rate-label
                        | (#{options.reviewsAmount} reviews)

                +productOption("Style")
                +productOption("Color", true)
                .product-full-buy-block
                    .product-price= options.price
                    +quantity()
                    .btn.btn-primary.btn-large
                        .bi.bi-bag 
                        | Add to cart
            .col-xl-12.col-xxl-4.pb-2
                .product-full-detailed-info


